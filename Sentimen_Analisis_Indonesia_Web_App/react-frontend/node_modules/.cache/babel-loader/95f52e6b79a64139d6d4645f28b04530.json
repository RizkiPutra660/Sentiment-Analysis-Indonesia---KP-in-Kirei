{"ast":null,"code":"var _jsxFileName = \"/home/rizki/Unduhan/twitter-sentiment-analysis-web-app-master/react-frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport './App.css';\nimport Chart from 'react-apexcharts';\n\nconst axios = require('axios');\n\nvar ProgressBar = require('progressbar.js');\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.submitHandler = () => {\n      this.setState({\n        progressBar: true\n      });\n      this.setState({\n        submitted: false\n      });\n      var positive = 0;\n      var negative = 0;\n      var neutral = 0;\n      var self = this;\n\n      try {\n        axios.get('http://localhost:8000/analyzehashtag', {\n          params: {\n            text: this.state.hashtag\n          }\n        }).then(function (response) {\n          negative = response.data.negative;\n          positive = response.data.positive;\n          neutral = response.data.neutral;\n          self.setState({\n            submitted: true\n          });\n          self.setState({\n            progressBar: false\n          });\n          self.setState({\n            series: [negative, positive, neutral]\n          });\n        });\n      } catch (e) {\n        console.log(e);\n      }\n\n      try {\n        var url = \"https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=\" + this.state.hashtag + \"&limit=1&format=json\";\n        axios.get(url).then(function (response) {\n          self.setState({\n            hashtag_desc: response.data[2][0]\n          });\n        });\n      } catch (e) {\n        console.log(e);\n      }\n\n      try {\n        axios.get('http://localhost:8000/gettweets', {\n          params: {\n            text: this.state.hashtag\n          }\n        }).then(function (response) {\n          self.setState({\n            tweets: response.data.results\n          });\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.inputHandler = e => {\n      this.setState({\n        hashtag: e.target.value\n      });\n    };\n\n    this.showAnalysis = () => {\n      if (this.state.submitted == true) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          class: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"col-sm-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Chart, {\n          options: this.state.options,\n          series: this.state.series,\n          type: \"donut\",\n          width: \"420\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"offset-sm-1 col-sm-7\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          class: \"heading_desc\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }\n        }, this.state.hashtag_desc), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 23\n          }\n        })));\n      }\n    };\n\n    this.showLoadingBar = () => {\n      if (this.state.progressBar) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          class: \"text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: require('./loading_bar.gif'),\n          width: \"50\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"h2\", {\n          class: \"progressheader\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }\n        }, \"Please Wait\"));\n      }\n    };\n\n    this.state = {\n      hashtag: \"\",\n      submitted: false,\n      progressBar: false,\n      options: {\n        colors: ['#F7464A', '#46BFBD', '#FDB45C'],\n        labels: ['Negative', 'Positive', 'Neutral'],\n        plotOptions: {\n          pie: {\n            donut: {\n              labels: {\n                show: true\n              }\n            }\n          }\n        }\n      },\n      series: [44, 55, 41],\n      tweets: [],\n      hashtag_desc: \"\"\n    };\n  }\n\n  async componentDidUpdate() {\n    var positive = 0;\n    var negative = 0;\n    var neutral = 0;\n    var self = this;\n\n    try {\n      setInterval(async () => {\n        axios.get('http://localhost:8000/analyzehashtag', {\n          params: {\n            text: this.state.hashtag\n          }\n        }).then(function (response) {\n          negative = response.data.negative;\n          positive = response.data.positive;\n          neutral = response.data.neutral;\n          self.setState({\n            submitted: true\n          });\n          self.setState({\n            series: [negative, positive, neutral]\n          });\n        });\n      }, 30000);\n    } catch (e) {\n      console.log(e);\n    }\n\n    try {\n      setInterval(async () => {\n        axios.get('http://localhost:8000/gettweets', {\n          params: {\n            text: this.state.hashtag\n          }\n        }).then(function (response) {\n          console.log(response);\n          self.setState({\n            tweets: response.data.results\n          });\n        });\n      }, 30000);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    var renderTweets = this.state.tweets.map(function (item, i) {\n      var color = \"#46BFBD\";\n\n      if (item.label == \"Neutral\") {\n        color = \"#FDB45C\";\n      }\n\n      if (item.label == \"Negative\") {\n        color = \"#F7464A\";\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        class: \"tweets\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, \"@\", item.username), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }\n      }, item.text), /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          \"color\": color\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }, \"Predicted Sentiment - \", item.label));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"display-4 text-center\",\n      style: {\n        'margin-top': this.state.submitted ? '5%' : '30%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, \"Twitter Sentiment Analysis Indonesia\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text hashtag-icon\",\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, \"#\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control hashtag\",\n      id: \"basic-url\",\n      \"aria-describedby\": \"basic-addon3\",\n      placeholder: \"Enter Hashtag to analyze\",\n      onChange: this.inputHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn text-center btn-outline-secondary submit\",\n      type: \"button\",\n      onClick: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 23\n      }\n    }, \"Analyze\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 35\n      }\n    }), this.showAnalysis(), this.state.submitted ? renderTweets : /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 50\n      }\n    }), this.showLoadingBar()), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"footer my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, \"Made with \", /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"fa fa-heart\",\n      style: {\n        \"color\": \"#00aced\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 28\n      }\n    }), \" by Athallah, Hanif, Miqdad, Risyam (\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://github.com/RizkiPutra660/Sentiment-Analysis-Indonesia---KP-in-Kirei\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 123\n      }\n    }, \"Github\"), \")\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/rizki/Unduhan/twitter-sentiment-analysis-web-app-master/react-frontend/src/App.js"],"names":["React","Component","Chart","axios","require","ProgressBar","App","constructor","submitHandler","setState","progressBar","submitted","positive","negative","neutral","self","get","params","text","state","hashtag","then","response","data","series","e","console","log","url","hashtag_desc","tweets","results","inputHandler","target","value","showAnalysis","options","showLoadingBar","colors","labels","plotOptions","pie","donut","show","componentDidUpdate","setInterval","render","renderTweets","map","item","i","color","label","username"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './App.css';\nimport Chart from 'react-apexcharts'\n\nconst axios = require('axios');\nvar ProgressBar = require('progressbar.js');\n\nclass App extends Component {\n    constructor(){\n        super();\n        this.state = {\n            hashtag: \"\",\n            submitted: false,\n            progressBar: false,\n            options: {\n                colors: ['#F7464A', '#46BFBD', '#FDB45C'],\n                labels: ['Negative', 'Positive', 'Neutral'],\n                plotOptions: {\n                pie: {\n                  donut: {\n                    labels: {\n                      show: true\n                    }\n                  }\n                }\n              }\n            },\n            series: [44, 55, 41],\n            tweets: [],\n            hashtag_desc: \"\"\n        }\n    }\n    \n    async componentDidUpdate() {\n      var positive = 0\n        var negative = 0\n        var neutral = 0\n        var self = this;\n        try {        \n          setInterval(async () => {\n          axios.get('http://localhost:8000/analyzehashtag', {\n              params: {\n                  text: this.state.hashtag\n              }\n          }).then(function(response) {\n              negative = response.data.negative\n              positive = response.data.positive\n              neutral = response.data.neutral\n              self.setState({submitted: true});\n              self.setState({series: [negative, positive, neutral]});\n          });\n              }, 30000);\n          } catch(e) {\n            console.log(e);\n          }\n        \n        try {        \n          setInterval(async () => {\n          axios.get('http://localhost:8000/gettweets', {\n              params: {\n                  text: this.state.hashtag\n              }\n          }).then(function(response) {\n              console.log(response);\n              self.setState({tweets: response.data.results});\n          });\n              }, 30000);\n          } catch(e) {\n            console.log(e);\n          }\n      }\n    \n    submitHandler = () => {\n        this.setState({progressBar: true});\n        this.setState({submitted: false});\n        var positive = 0\n        var negative = 0\n        var neutral = 0\n        var self = this;\n        try {        \n          axios.get('http://localhost:8000/analyzehashtag', {\n              params: {\n                  text: this.state.hashtag\n              }\n          }).then(function(response) {\n              negative = response.data.negative\n              positive = response.data.positive\n              neutral = response.data.neutral\n              self.setState({submitted: true});\n              self.setState({progressBar: false});\n              self.setState({series: [negative, positive, neutral]});\n          });\n          } catch(e) {\n            console.log(e);\n          }\n        \n        try {        \n        var url = \"https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=\" + this.state.hashtag + \"&limit=1&format=json\"\n          axios.get(url).then(function(response) {\n              self.setState({hashtag_desc: response.data[2][0]});\n          });\n          } catch(e) {\n            console.log(e);\n          }\n        \n        try {        \n          axios.get('http://localhost:8000/gettweets', {\n              params: {\n                  text: this.state.hashtag\n              }\n          }).then(function(response) {\n              self.setState({tweets: response.data.results});\n          });\n          } catch(e) {\n            console.log(e);\n          }\n        \n    }\n    \n    inputHandler = (e) => {\n        this.setState({hashtag: e.target.value});\n    }\n    \n    showAnalysis = () => {\n        if(this.state.submitted == true){\n            return(\n                <div class=\"row\">\n                <div class=\"col-sm-4\">\n                    <Chart options={this.state.options} series={this.state.series} type=\"donut\" width=\"420\" />\n                </div>\n                <div class=\"offset-sm-1 col-sm-7\">\n                <h1 class=\"heading_desc\">{this.state.hashtag_desc}</h1>\n                <br /><br />\n                </div>\n                </div>  \n            );\n        }\n    }\n    \n    showLoadingBar = () => {\n        if(this.state.progressBar){\n            return(\n                <div class=\"text-center\">\n                    <img src={require('./loading_bar.gif')} width=\"50\"/>\n                    <h2 class=\"progressheader\">Please Wait</h2>\n                </div>\n            );\n        }\n    }\n        \n    render() {\n        \n        var renderTweets = this.state.tweets.map(function(item, i){\n            var color = \"#46BFBD\";\n            \n            if(item.label == \"Neutral\"){\n                color = \"#FDB45C\";\n            }\n            if(item.label == \"Negative\"){\n                color = \"#F7464A\";\n            }\n              return (\n                    <div key={i} class=\"tweets\">\n                    <h2>@{item.username}</h2>\n                    <p>{item.text}</p>\n                    <h3 style={{\"color\": color}}>Predicted Sentiment - {item.label}</h3>\n                    </div>\n                  );\n            })\n        \n  return (\n      <div>\n          <div class=\"container\">\n              <h1 class=\"display-4 text-center\" style={{'margin-top':this.state.submitted?'5%':'30%'}}>Twitter Sentiment Analysis Indonesia</h1>\n              <br /><br />\n                <div class=\"input-group mb-3\">\n                 <div class=\"input-group-prepend\">\n                    <span class=\"input-group-text hashtag-icon\" id=\"basic-addon1\">#</span>\n                  </div>\n                  <input type=\"text\" class=\"form-control hashtag\" id=\"basic-url\" aria-describedby=\"basic-addon3\" placeholder=\"Enter Hashtag to analyze\" onChange={this.inputHandler}/>\n              </div>\n              <br />\n              <div class=\"row\">\n                  <div class=\"col-sm-12\">\n                    <div class=\"text-center\">\n                      <button class=\"btn text-center btn-outline-secondary submit\" type=\"button\" onClick={this.submitHandler}>Analyze</button>\n                    </div>\n                  </div>\n                </div>\n                <br /><br /><br /><br />\n                {this.showAnalysis()}\n              {this.state.submitted?renderTweets:<br />}\n                {this.showLoadingBar()}\n          </div>\n          <div class=\"footer my-auto\">\n              <p>Made with <h1 class=\"fa fa-heart\" style={{\"color\": \"#00aced\"}}></h1> by Athallah, Hanif, Miqdad, Risyam (<a href=\"https://github.com/RizkiPutra660/Sentiment-Analysis-Indonesia---KP-in-Kirei\">Github</a>)</p>\n          </div>\n      </div>\n  );\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}